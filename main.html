<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Reverse Image Filtering</title>
    <link rel="stylesheet" href="styles.css" />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap"
      rel="stylesheet" />
  </head>
  <body>
    <!-- Include Breadcrumb
    <div id="breadcrumb"></div> -->
    <div class="breadcrumb-container">
      <div class="breadcrumb-content">
        <h2>Reverse Image Filtering</h2>
        <p><span>Home</span> &bull; <span>Reverse Image Filtering</span></p>
      </div>
      <div class="breadcrumb-icon">
        <img src="images/icons.png" alt="Icon" />
      </div>
    </div>

    <div class="upload-container">
      <label for="imageUpload" class="upload-button" id="uploadLabel"
        >Upload Image</label
      >
      <input type="file" id="imageUpload" accept="image/*" hidden />
      <div id="preview"></div>
    </div>

    <button id="reverseFilterButton" class="hidden">
      Reverse Image Filter
    </button>

    <script>
      document.addEventListener("DOMContentLoaded", function () {
        fetch("breadcrumb.html")
          .then((response) => response.text())
          .then((html) => {
            document.getElementById("breadcrumb").innerHTML = html;
          });
      });

      const imageUpload = document.getElementById("imageUpload");
      const preview = document.getElementById("preview");
      const reverseFilterButton = document.getElementById(
        "reverseFilterButton"
      );
      const uploadLabel = document.getElementById("uploadLabel");

      imageUpload.addEventListener("change", function (event) {
        const file = event.target.files[0];
        if (file) {
          const reader = new FileReader();
          reader.onload = function (e) {
            // Store the image data in localStorage
            localStorage.setItem("uploadedImage", e.target.result);
            preview.innerHTML = `<img src="${e.target.result}" alt="Uploaded Image">`;
            preview.style.display = "block";
            uploadLabel.style.display = "none";
            reverseFilterButton.classList.remove("hidden");
          };
          reader.readAsDataURL(file);
        }
      });

      reverseFilterButton.addEventListener("click", function () {
        window.location.href = "filter.html";
      });
    </script>
  </body>
</html>
